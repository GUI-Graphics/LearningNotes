# Chapter2 什么是Unix?什么是Linux

可以使用LiveCD运行Unix系统,但是除非特别分区,不能在LiveCD上保存文件.LiveCD会划分一部分内存当做虚拟磁盘,因此会降低性能.不过使用LiveCD体验不同版本的Unix系统是个好方法.可以将系统安装到USB上,这样就能在系统上保存文件了.

# Chapter3 Unix连接

有两个抽象的概念:*终端(Terminal)*和*主机*,终端负责输入输出,主机负责响应,因此可以抽象的给出以下公式:

计算机=终端+主机<br>
终端=输入设施+输出设施

终端和主机分离是很重要的思想,这意味着多用户可以同时使用一个Unix系统,只要他有一个终端.

终端和主机可以任意远,前提是两者必须有一个连接.甚至可以使用硬件仿真终端,连接到主机.比如在你的电脑上打开四个Shell,连接到四个不同的Unix主机上.

有个特殊的终端,称为*控制台*,只有系统管理员能接触到控制台.比如当系统出现问题时,会向控制台打印消息,其他终端则不可见.

## 3.1 无头系统(headless system)

有很多没有连接终端的主机,比如Web服务器,路由,这些机器不需要人类的直接输入.当这些机器出现问题时,管理员可以建立一个连接,修复问题,断开连接,让系统自主工作.

# Chapter4 开始使用Unix

注销登录的几种方式:

* 可以使用Ctrl-D组合键向主机发送一个信号,表明不会再有输入了,这样Shell就会终止,Unix将您注销.

* end-of-file信号还有其他作用,因此Ctrl-D可能会不经意间将您注销.这时可以通过logout和exit命令进行注销.

## passwd命令
当您登录进系统后,可以通过passwd命令更改口令

## last命令
last命令用于显示用户登录信息,可以带一个用户标识参数,打印该用户最近的登录信息.不带参数的last命令打印所有用户的登录信息.

## 超级用户root
管理员拥有特殊权限,超级权限很容易对系统造成损害,大多数时间管理员使用正常用户标识进行常规工作,只有在进行需要特殊权限的操作时才切换到超级用户.

# Chapter6 Unix工作环境

典型的Linux启动级别

运行级别 | 描述
--------|----
0|关机
1|单用户模式(命令行)
2|非标准化
3|多用户模式(命令行)
4|非标准化
5|多用户模式:GUI
6|重新启动

默认情况下,Linux默认引导至启动级别3或5.级别1是旧时代的延续,当切换到启动级别1时,系统首先会告知所有用户系统即将关闭,然后重启Unix到运行级别1,即所谓的维护模式,现在称为单用户模式.这时管理员知道系统没有其他用户,就可以进行一些工作了.
现在的Linux系统已经非常灵活了,管理员可以在其他用户登录的情况下完成大量工作,只有在非常严重的情况下才需要将系统引导至启动级别1.

## 6.9 控制焦点:任务切换
Alt-Tab / Alt-Shift-Tab 切换活跃窗口

## 6.10 多桌面/工作空间
Ctrl-Alt-方向键,切换工作空间

## 6.12 虚拟控制台
Linux默认开机为用户打开七个终端,前6个是字符终端,第7个是图形终端.可以使用Alt+F1~7在不同终端切换,不过当处在图形终端时Alt+F1~7通常有其他用户,因此要加上Ctrl键才能切换终端.打开多个终端的好处有,当图形终端垮掉时,可以切换到字符终端解决问题.

## 6.15 复制粘贴
* 剪贴板是一个看不见的存储区
* 复制将源复制到存储区
* 剪切将源复制到存储区的同时,删除源

剪切和复制都会覆盖剪贴板,粘贴时,剪贴板的内容保持不变.

## 6.16 以超级用户工作: su
可以在启动时以超级用户登录,或者使用su命令切换到超级用户. su命令允许临时切换用户标识,只需在命令后面加上用户标识. 可以加上连字符-,切换用户标识的同时切换工作目录,如```su - gui```.

## 6.17 以超级用户执行单独的一条命令: sudo
登录超级用户是一件危险的事情,避免危险的最好方法就是使用sudo.sudo命令允许您以另一个用户标识执行一条单独的命令,默认的用户标识是root.

## 6.20 关机与重启
修改运行级别的命令是init,想重启输入:sudo init 6,想关机输入:sudo init 0. init命令不是专门用来关机或重启的,通常使用reboot命令:
sudo reboot
系统将会切换到运行级别6,即重启.或者使用shutdown进行关机,最简单的shutdown命令:
sudo shutdown now

# Chapter7 Unix键盘

信号名 | 含义 | 快捷键
------| ----| ----
erase  | 删除一个字符 | ^H
werase | 删除一个单词 | ^W
kill | 删除一行 | ^U
flush | 清空缓存 | ^O
eof | 文件末尾 | ^D
intr | 中断 | ^C
quit | 退出 | ^\

# Chapter8 能够立即使用的命令

可以实用whereis查找命令的位置，如果是内置命令，则要实用type显示命令的信息。

这章的命令不实用，实用bc命令还不如使用nodejs

# Chapter9 文档资料：Unix手册与Info

推荐使用的man手册命令

命令|  |
---| ---
RETURN | 向下一行
鼠标滚轮 | 上下移动行
SPACE | 向下一页
b | 向上一页
g | 移到顶部
G | 移到末尾
/pattern | 向下搜索
n | 向下搜索
N | 向上搜索

*在man页输入！就可以敲击命令, 比如！pwd，在浏览的过程中查看当前目录*

## 9.8 Unix手册的组织方式

1. 命令
2. 系统调用
3. 库函数
4. 特殊文件
5. 文件格式
6. 游戏
7. 杂项
8. 系统管理

在我的Ubuntu系统中man手册存在/usr/share/man文件夹，每一节存在单独的一个子文件夹中，比如what(1)命令的手册文件名是whatis.1.gz，存在man1文件夹中，read(2)系统调用的手册文件名是read.2.gz，存在man2文件夹。默认情况下man会在所有的子文件下查找手册文件，并显示找到的第一个手册文件。

可以实用-f选项显示简略的信息，-f将查找整个手册，找到所有的手册文件，并显示手册的Name信息。也可以实用更快捷的*wathis*命令，如下所示

```
gui@hp:~$ man -f kill
kill (2)             - send signal to a process
kill (1)             - send a signal to a process
gui@hp:~$ whatis kill
kill (2)             - send signal to a process
kill (1)             - send a signal to a process
```

可以实用-k选项搜索关键字，man将在所有手册文件的Name节，也可以使用apropos命令，效果是一样的。

# 9.14 foo, bar和foobar
foo，bar，foobar在Unix文化中通常用来引用一个没有名字的东西。

# Chapter12 实用Shell变量和选项

只有全局变量才能被子进程继承，可以使用export命令将本地变量添加到父进程的全局变量列表中，这样就能被子进程继承。可以通过环境变量向子进程传递消息，但是子进程没有办法通过环境变量给父进程反馈消息。

Shell有一些选项可以控制它的行为，可以实用set命令操纵这些选项。set -o ignoreeof表示shell将忽略^D，set +o ignoreeof则忽略eof。
